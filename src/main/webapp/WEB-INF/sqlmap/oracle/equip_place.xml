<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="equip">
	<select id="list" resultType="Map" parameterType="Map" timeout="10">
		select 
			ep.EQUIP_PLACE_SEQ	
			,ep.SUB_CATEGORY_SEQ	
			,ep.MANUFACTURER
			,ep.DESCRIPTION	
			,ep.MANAGER	
			,ep.EQUIP_PLACE_NAME
			,sc.SUB_CATEGORY_NAME
		from EQUIP_PLACE ep, SUB_CATEGORY sc
		where ep.SUB_CATEGORY_SEQ = sc.SUB_CATEGORY_SEQ
		order by ep.SUB_CATEGORY_SEQ
	</select>
	
	<select id="catelist" resultType="Map" parameterType="Map" timeout="10">
		select 
			CATEGORY_SEQ
			,CATEGORY_NAME
		from CATEGORY 
		
	</select> 
	
	<select id="subcatelist" resultType="Map" parameterType="Map" timeout="10">
		select 
			SUB_CATEGORY_SEQ
			,SUB_CATEGORY_NAME
			,CATEGORY_SEQ
		from SUB_CATEGORY
	<!-- 	where #{CATEGORY_SEQ} -->
	</select> 

	<insert id="merge">
	INSERT INTO ABILITIES (
		ABILITY_NAME 
		,ABILITY_SEQ
		)
		values(
		#{ABILITY_NAME}
		,#{ABILITY_SEQ}
		)
		ON DUPLICATE KEY UPDATE 
		ABILITY_NAME = #{ABILITY_NAME}
		,ABILITY_SEQ = #{ABILITY_SEQ}
			
	</insert>
	<!-- <select id="read" resultType="Map" parameterType="Map">
		select 
			ORGANIZATION_SEQ	조직 일련번호
			, NAME	명칭
			, TELEPHONE	대표 전화번호
			, ORDER_NUMBER	정렬순서
			, PARENT_ORGANIZATION_SEQ	상위 조직 일련번호
		from CIP_ORGANIZATION
		where ORGANIZATION_SEQ = #{ORGANIZATION_SEQ}
	</select>
	
	<delete id="delete" parameterType="Map">
		delete from CIP_ORGANIZATION
		where ORGANIZATION_SEQ = #{ORGANIZATION_SEQ}
	</delete>  -->
</mapper>